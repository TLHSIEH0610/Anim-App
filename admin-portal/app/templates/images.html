{% extends "base.html" %}

{% block content %}
<h2 class="mdc-typography--headline5">Images for Book {{ book_id }}</h2>

<h3 class="mdc-typography--headline6">Original Uploads</h3>
<div class="aa-grid aa-grid--sm">
  {% for image in original_images %}
  <div class="mdc-card aa-thumb">
    {% if image.path %}
      <img src="/files-proxy?path={{ image.path | urlencode }}&w=360" alt="original" loading="lazy">
      <code>{{ image.path }}</code>
    {% else %}
      <div class="mdc-typography--caption" style="padding:12px;">No path</div>
    {% endif %}
  </div>
  {% endfor %}
  {% if not original_images %}
    <p class="mdc-typography--body2">No original uploads.</p>
  {% endif %}
</div>

<h3 class="mdc-typography--headline6" style="margin-top:2rem;">Generated Pages</h3>
<div class="aa-grid aa-grid--sm">
  {% for page in page_images %}
  <div class="mdc-card aa-thumb">
    {% if page.path %}
      <img src="/files-proxy?path={{ page.path | urlencode }}&w=480" alt="page {{ page.page_number }}" loading="lazy">
    {% else %}
      <div class="mdc-typography--caption" style="padding:12px;">No path</div>
    {% endif %}
    <h3>Page {{ page.page_number }}</h3>
    <h4>{{ page.status }}</h4>
    <code>{{ page.path }}</code>
  </div>
  {% endfor %}
  {% if not page_images %}
    <p class="mdc-typography--body2">No generated pages.</p>
  {% endif %}
</div>

<a href="/dashboard" class="mdc-button" style="margin-top:2rem;">Back to dashboard</a>
{% endblock %}
